<form #taxDeductedCollectedFrm="ngForm">
    <div class="panel-group margin-top15" id="accordion" role="tablist" aria-multiselectable="true">
        <div class="panel-custom panel-default-custom">
            <div class="panel-heading-custom" role="tab" id="tds1Heading">
                <h4 class="panel-title">
                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#tds1Collapse" aria-expanded="true" aria-controls="taxDeductedCollapseOne">
                        <div style="font-size:15px;">Details of Tax deducted at source from
                            <span style="color:red">SALARY</span> (as per
                            <span style="color:red">FORM</span> 16 issued by employer(s))</div>
                    </a>
                </h4>
            </div>
            <div id="tds1Collapse" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="tds1Heading">
                <div class="panel-body">
                    <div style='overflow-y: auto;'>
                        <table class="table table-striped table-bordered table-responsive">
                            <thead>
                                <tr>
                                    <th>TAN of deductor</th>
                                    <th>Deductor name</th>
                                    <th>Income chargeable under salary</th>
                                    <th>Total tax deducted</th>
                                    <th>Action</th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr *ngFor="let taxDeductedSalaryModel of taxDeductedSalaryModels; let i = index">
                                    <td>
                                        <input [(ngModel)]="taxDeductedSalaryModel.TAN" class="form-control" type="text" #taxDeductedSalaryModelTAN="ngModel" name="taxDeductedSalaryModelTAN_{{i}}"
                                        />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxDeductedSalaryModel.name" class="form-control" type="text" #taxDeductedSalaryModelName="ngModel" name="taxDeductedSalaryModelName_{{i}}"
                                        />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxDeductedSalaryModel.incomeChargeableForDeduction" #taxDeductedSalaryModelIncomeChargeable="ngModel"
                                            class="form-control" type="number" name="taxDeductedSalaryModelIncomeChargeable{{i}}"
                                            CompareTwoNumbersValidator otherValue="{{taxDeductedSalaryModel.taxDeducted}},false"
                                            [ngStyle]="{ 'border-color': (taxDeductedSalaryModelIncomeChargeable && taxDeductedSalaryModelIncomeChargeable.errors ?'red':none)}"
                                        />
                                    </td>

                                    <td>
                                        <input [(ngModel)]="taxDeductedSalaryModel.taxDeducted" #taxDeductedSalaryModelTaxDeducted="ngModel" class="form-control"
                                            type="number" name="taxDeductedSalaryModelTaxDeducted{{i}}" (change)="calculateTaxDeductedAmount()"
                                            CompareTwoNumbersValidator otherValue="{{taxDeductedSalaryModel.incomeChargeableForDeduction}},true"
                                            [ngStyle]="{ 'border-color': (taxDeductedSalaryModelTaxDeducted && taxDeductedSalaryModelTaxDeducted.errors ?'red':none)}"
                                        />
                                    </td>
                                    <td>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default removeIcon" type="button" (click)="deleteTaxDeductedSalaryItem(i)">
                                                <i class="glyphicon glyphicon-trash"></i>
                                            </button>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default" type="button" (click)="addNewTaxDeductedSalary()">
                                                <i class="glyphicon glyphicon-plus"></i>
                                            </button>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="5">
                                        <div class="border-left-info">Note: Total Tax Deducted should be less than or equal to Income chargeable under
                                            salary</div>
                                    </td>
                                </tr>
                            </tbody>

                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel-custom panel-default-custom">
            <div class="panel-heading-custom" role="tab" id="tds2Heading" style="font-size:15px;">
                <h4 class="panel-title">
                    <a role="button" data-toggle="collapse" class="collapsed" data-parent="#accordion" href="#tds2Collapse" aria-expanded="false"
                        aria-controls="tds2Collapse">
                        <div style="font-size:15px;">Details of tax deducted at source from income
                            <span style="color:red">OTHER THAN salary</span> (as per
                            <span style="color:red">FORM 16 A</span> issued by Deductor(s))</div>
                    </a>
                </h4>
            </div>
            <div id="tds2Collapse" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="tds2Heading">
                <div class="panel-body">
                    <div style='overflow-y: auto;'>
                        <table class="table table-striped table-bordered table-responsive ">
                            <thead>
                                <tr>
                                    <th>TAN of deductor</th>
                                    <th>Deductor name</th>
                                    <th>Amount for tax deduction</th>
                                    <th style="width: 13%">Tax deduction year</th>
                                    <th>Tax deducted</th>
                                    <th>Amount claimed this year out of tax deducted</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let taxDeductedOtherThanSalaryModel of taxDeductedOtherThanSalaryModels; let i = index">
                                    <td>
                                        <input [(ngModel)]="taxDeductedOtherThanSalaryModel.TAN" class="form-control" type="text" #taxDeductedOtherThanSalaryModelTAN="ngModel"
                                            name="taxDeductedOtherThanSalaryModelTAN_{{i}}" />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxDeductedOtherThanSalaryModel.name" class="form-control" #taxDeductedOtherThanSalaryModelName="ngModel"
                                            type="text" name="taxDeductedOtherThanSalaryModelName_{{i}}" />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxDeductedOtherThanSalaryModel.amountForTaxDeduction" #taxDeductedOtherThanSalaryModelAmountForTaxDeduction="ngModel"
                                            class="form-control" type="number" name="taxDeductedOtherThanSalaryModelAmountForTaxDeduction_{{i}}"
                                        />
                                    </td>
                                    <td>
                                        <select id="selectedOtherThanSalaryYear" #selectedOtherThanSalaryYear="ngModel" required [ngClass]="taxDeductedOtherThanSalaryModel.selectedOtherThanSalaryYear>0? 'valid': 'invalid'"
                                            class="form-control" [(ngModel)]="taxDeductedOtherThanSalaryModel.selectedOtherThanSalaryYear"
                                            name="selectedOtherThanSalaryYear">
                                            <option [ngValue]=null>Select</option>
                                            <option [ngValue]="year.key" *ngFor="let year of taxCollectionDeductionYearList">
                                                {{year.value}}
                                        </select>
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxDeductedOtherThanSalaryModel.taxDeducted" class="form-control" type="number" #taxDeductedOtherThanSalaryModelTaxDeducted="ngModel"
                                            name="taxDeductedOtherThanSalaryModelTaxDeducted_{{i}}" (change)="calculateTaxDeductedAmount()"
                                            CompareTwoNumbersValidator otherValue="{{taxDeductedOtherThanSalaryModel.amountClaimedThisYear}},false"
                                            [ngStyle]="{ 'border-color': (taxDeductedOtherThanSalaryModelTaxDeducted && taxDeductedOtherThanSalaryModelTaxDeducted.errors ?'red':none)}"
                                        />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxDeductedOtherThanSalaryModel.amountClaimedThisYear" class="form-control" type="number" #taxDeductedOtherThanSalaryModelAmountClaimedThisYear="ngModel"
                                            name="taxDeductedOtherThanSalaryModelAmountClaimedThisYear_{{i}}" CompareTwoNumbersValidator
                                            otherValue="{{taxDeductedOtherThanSalaryModel.taxDeducted}},true" [ngStyle]="{ 'border-color': (taxDeductedOtherThanSalaryModelAmountClaimedThisYear && taxDeductedOtherThanSalaryModelAmountClaimedThisYear.errors ?'red':none)}"
                                        />
                                    </td>


                                    <td>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default removeIcon" type="button" (click)="deleteTaxDeductedOtherThanSalaryItem(i)">
                                                <i class="glyphicon glyphicon-trash"></i>
                                            </button>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>

                                    <td>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default" type="button" (click)="addNewTaxDeductedOtherThanSalary()">
                                                <i class="glyphicon glyphicon-plus"></i>
                                            </button>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="7">
                                        <div class="border-left-info">Note: Amount claimed this year out of tax deducted should be less than or equal to
                                            Tax deducted</div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel-custom panel-default-custom">
            <div class="panel-heading-custom" role="tab" id="tds3Heading" style="font-size:15px;">
                <h4 class="panel-title">
                    <a role="button" data-toggle="collapse" class="collapsed" data-parent="#accordion" href="#tds3Collapse" aria-expanded="false"
                        aria-controls="tds3Collapse">
                        <div style="font-size:15px;">Details of tax deducted at source (as per
                            <span style="color:red">26QC</span>
                            furnished by deductor(s))</div>
                    </a>
                </h4>
            </div>
            <div id="tds3Collapse" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="tds3Heading">
                <div class="panel-body">
                    <div style='overflow-y: auto;'>
                        <table class="table table-striped table-bordered table-responsive">
                            <thead>
                                <tr>
                                    <th>PAN of Tenant</th>
                                    <th>Tenant name</th>
                                    <th>Amount for tax deduction</th>
                                    <th style="width:12%">Tax deduction year</th>
                                    <th>Tax deducted</th>
                                    <th>Amount claimed this year out of tax deducted</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let taxDeductedUnder26QCModel of taxDeductedUnder26QCModels; let i = index">
                                    <td>
                                        <input [(ngModel)]="taxDeductedUnder26QCModel.PAN" class="form-control" type="text" #taxDeductedUnder26QCModelPAN="ngModel"
                                            name="taxDeductedUnder26QCModelPAN_{{i}}" />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxDeductedUnder26QCModel.name" class="form-control" type="text" #taxDeductedUnder26QCModelName="ngModel"
                                            name="taxDeductedUnder26QCModelName_{{i}}" />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxDeductedUnder26QCModel.amountForTaxDeduction" class="form-control" type="number" #taxDeductedUnder26QCModelAmountForTaxDeduction="ngModel"
                                            name="taxDeductedUnder26QCModelAmountForTaxDeduction_{{i}}" />
                                    </td>
                                    <td>
                                        <select id="selectedTenantDeductionYear" #selectedTenantDeductionYear="ngModel" required [ngClass]="taxDeductedUnder26QCModel.selectedTenantDeductionYear>0? 'valid': 'invalid'"
                                            class="form-control" [(ngModel)]="taxDeductedUnder26QCModel.selectedTenantDeductionYear"
                                            name="selectedTenantDeductionYear">
                                            <option [ngValue]=null>Select</option>
                                            <option [ngValue]="year.key" *ngFor="let year of taxDeductionTenantYearList">
                                                {{year.value}}
                                        </select>
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxDeductedUnder26QCModel.taxDeducted" class="form-control" type="number" #taxDeductedUnder26QCModelTaxDeducted="ngModel"
                                            name="taxDeductedUnder26QCModelTaxDeducted_{{i}}" (change)="calculateTaxDeductedAmount()"
                                            CompareTwoNumbersValidator otherValue="{{taxDeductedUnder26QCModel.amountClaimedThisYear}},false"
                                            [ngStyle]="{ 'border-color': (taxDeductedUnder26QCModelTaxDeducted && taxDeductedUnder26QCModelTaxDeducted.errors ?'red':none)}"
                                        />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxDeductedUnder26QCModel.amountClaimedThisYear" class="form-control" type="number" #taxDeductedUnder26QCModelAmountClaimedThisYear="ngModel"
                                            name="taxDeductedUnder26QCModelAmountClaimedThisYear_{{i}}" CompareTwoNumbersValidator
                                            otherValue="{{taxDeductedUnder26QCModel.taxDeducted}},true" [ngStyle]="{ 'border-color': (taxDeductedUnder26QCModelAmountClaimedThisYear && taxDeductedUnder26QCModelAmountClaimedThisYear.errors ?'red':none)}"
                                        />
                                    </td>


                                    <td>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default removeIcon" type="button" (click)="deleteTaxDeductedUnder26QCItem(i)">
                                                <i class="glyphicon glyphicon-trash"></i>
                                            </button>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>

                                    <td>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default" type="button" (click)="addNewTaxDeductedUnder26QC()">
                                                <i class="glyphicon glyphicon-plus"></i>
                                            </button>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="7">
                                        <div class="border-left-info">Note: Amount claimed this year out of tax deducted should be less than or equal to
                                            Tax deducted
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel-custom panel-default-custom">
            <div class="panel-heading-custom" role="tab" id="tds4Heading" style="font-size:15px;">
                <h4 class="panel-title">
                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#tds4Collapse" aria-expanded="true" aria-controls="collapseFour">
                        <div style="font-size:15px;">Details of advance tax and self assessment tax</div>
                    </a>
                </h4>
            </div>
            <div id="tds4Collapse" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="tds4Heading">
                <div class="panel-body">
                    <div >
                        <table class="table table-striped table-bordered table-responsive">
                            <thead>
                                <tr>
                                    <th>BSR code</th>
                                    <th style="width:20%">Date of deposit</th>
                                    <th>Challan serial number</th>
                                    <th>Tax type</th>
                                    <th style="width:20%">Tax paid</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let advanceTaxSelfAssessmentTaxModel of advanceTaxSelfAssessmentTaxModels; let i = index">
                                    <td>
                                        <input [(ngModel)]="advanceTaxSelfAssessmentTaxModel.BSRCode" class="form-control" type="text" #advanceTaxSelfAssessmentTaxModelBSRCode="ngModel"
                                            name="advanceTaxSelfAssessmentTaxModelBSRCode_{{i}}" />
                                    </td>
                                    <td>
                                        <div class="input-group">
                                            <input class="form-control" required readonly [ngClass]="advanceTaxSelfAssessmentTaxModel.depositDate.length? 'valid': 'invalid'"
                                                style="float:none;border-radius: 0;" [(ngModel)]="model" placeholder="Select a date"
                                                ngx-mydatepicker name="mydepositDatedate" [options]="myOptions" #dd="ngx-mydatepicker"
                                                (dateChanged)="onDepositDateChanged($event)" />
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-default" style="padding: 6px 13px;" (click)="dd.clearDate()">
                                                    <i class="glyphicon glyphicon-remove"></i>
                                                </button>
                                                <button type="button" class="btn btn-default" style="padding: 6px 13px;border-radius: 0" (click)="dd.toggleCalendar()">
                                                    <i class="glyphicon glyphicon-calendar"></i>
                                                </button>
                                            </span>
                                        </div>
                                    </td>
                                    <td>
                                        <input [(ngModel)]="advanceTaxSelfAssessmentTaxModel.challanSerialNumber" class="form-control" type="number" #advanceTaxSelfAssessmentTaxModelChallanSerialNumber="ngModel"
                                            name="advanceTaxSelfAssessmentTaxModelChallanSerialNumber_{{i}}" />
                                    </td>
                                    <td>
                                        <select id="selectedTaxType" #selectedTaxType="ngModel" required [ngClass]="advanceTaxSelfAssessmentTaxModel.selectedTaxType!=null? 'valid': 'invalid'"
                                            class="form-control" (change)="calculateAdvanceTaxSelfAssessmentTax()" [(ngModel)]="advanceTaxSelfAssessmentTaxModel.selectedTaxType"
                                            name="selectedTaxType">
                                            <option [ngValue]=null>Select</option>
                                            <option [ngValue]="type.value" *ngFor="let type of taxTypeList">
                                                {{type.text}}
                                        </select>
                                    </td>

                                    <td>
                                        <input [(ngModel)]="advanceTaxSelfAssessmentTaxModel.selectedTaxType=='0' ? 0 : advanceTaxSelfAssessmentTaxModel.taxPaid"
                                            class="form-control" type="number" #advanceTaxSelfAssessmentTaxModelTaxPaid="ngModel"
                                            name="advanceTaxSelfAssessmentTaxModelTaxPaid_{{i}}" (change)="calculateAdvanceTaxSelfAssessmentTax()"
                                            [disabled]="advanceTaxSelfAssessmentTaxModel.selectedTaxType=='0'" />
                                    </td>
                                    <td>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default removeIcon" type="button" (click)="deleteAdvanceTaxSelfAssessmentTaxItem(i)">
                                                <i class="glyphicon glyphicon-trash"></i>
                                            </button>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default" type="button" (click)="addNewAdvanceTaxSelfAssessmentTax()">
                                                <i class="glyphicon glyphicon-plus"></i>
                                            </button>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="panel-custom panel-default-custom">
            <div class="panel-heading-custom" role="tab" id="tds5Heading" style="font-size:15px;">
                <h4 class="panel-title">
                    <a role="button" data-toggle="collapse" class="collapsed" data-parent="#accordion" href="#tds5Collapse" aria-expanded="false"
                        aria-controls="tds5Collapse">
                        <div style="font-size:15px;">Details of tax collected at source (
                            <span style="color:red"> as per FORM 27D</span> issued by the collector(s))</div>
                    </a>
                </h4>
            </div>
            <div id="tds5Collapse" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="tds5Heading">
                <div class="panel-body">
                    <div style='overflow-y: auto;'>
                        <table class="table table-striped table-bordered table-responsive">
                            <thead>
                                <tr>
                                    <th>Collector's tax collection a/c number</th>
                                    <th>Collector name</th>
                                    <th>Amount subject to colleection</th>
                                    <th style="width: 12%">Tax collection year</th>
                                    <th>Tax collected</th>
                                    <th>Amount claimed this year out of tax collected</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let taxCollectedModel of taxCollectedModels; let i = index">
                                    <td>
                                        <input [(ngModel)]="taxCollectedModel.taxCollectionAccountNo" class="form-control" type="text" #taxCollectedModelTaxCollectionAccountNo="ngModel"
                                            name="taxCollectedModelTaxCollectionAccountNo_{{i}}" />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxCollectedModel.name" class="form-control" type="text" #taxCollectedModelName="ngModel" name="taxCollectedModelName_{{i}}"
                                        />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxCollectedModel.amountForTaxDeduction" class="form-control" type="number" #taxCollectedModelAmountForTaxDeduction="ngModel"
                                            name="taxCollectedModelAmountForTaxDeduction_{{i}}" />
                                    </td>
                                    <td>
                                        <select id="selectedTaxCollectionYear" #selectedTaxCollectionYear="ngModel" required [ngClass]="taxCollectedModel.selectedTaxCollectionYear>0? 'valid': 'invalid'"
                                            class="form-control" [(ngModel)]="taxCollectedModel.selectedTaxCollectionYear" name="selectedTaxCollectionYear">
                                            <option [ngValue]=null>Select</option>
                                            <option [ngValue]="year.key" *ngFor="let year of taxCollectionDeductionYearList">
                                                {{year.value}}
                                        </select>
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxCollectedModel.taxCollected" class="form-control" type="number" #taxCollectedModelTaxCollected="ngModel"
                                            name="taxCollectedModelTaxCollected_{{i}}" (change)="calculateTaxCollection()" CompareTwoNumbersValidator
                                            otherValue="{{taxCollectedModel.amountClaimedThisYear}},false" [ngStyle]="{ 'border-color': (taxCollectedModelTaxCollected && taxCollectedModelTaxCollected.errors ?'red':none)}"
                                        />
                                    </td>
                                    <td>
                                        <input [(ngModel)]="taxCollectedModel.amountClaimedThisYear" class="form-control" type="number" #taxCollectedModelAmountClaimedThisYear="ngModel"
                                            name="taxCollectedModelAmountClaimedThisYear_{{i}}" CompareTwoNumbersValidator otherValue="{{taxCollectedModel.taxCollected}},true"
                                            [ngStyle]="{ 'border-color': (taxCollectedModelAmountClaimedThisYear && taxCollectedModelAmountClaimedThisYear.errors ?'red':none)}"
                                        />
                                    </td>


                                    <td>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default removeIcon" type="button" (click)="deleteTaxCollectionItem(i)">
                                                <i class="glyphicon glyphicon-trash"></i>
                                            </button>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>

                                    <td>
                                        <span class="input-group-btn">
                                            <button class="btn btn-default" type="button" (click)="addNewTaxCollection()">
                                                <i class="glyphicon glyphicon-plus"></i>
                                            </button>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="7">
                                        <div class="border-left-info">Note: Amount claimed this year out of tax deducted should be less than or equal to
                                            Tax collected
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>